<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Service Account  on tanaike - Google Apps Script, Gemini API, and Developer Tips</title>
    <link>https://tanaikech.github.io/tags/service-account-/</link>
    <description>Recent content in Service Account  on tanaike - Google Apps Script, Gemini API, and Developer Tips</description>
    <generator>Hugo</generator>
    <language>ja</language>
    <copyright>&amp;copy; 2026. All rights reserved.</copyright>
    <lastBuildDate>Tue, 11 Dec 2018 14:47:41 +0900</lastBuildDate>
    <atom:link href="https://tanaikech.github.io/tags/service-account-/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Retrieving Access Token using Service Account by Google&#39;s OAuth2 package for Golang</title>
      <link>https://tanaikech.github.io/2018/12/11/retrieving-access-token-using-service-account-by-googles-oauth2-package-for-golang/</link>
      <pubDate>Tue, 11 Dec 2018 14:47:41 +0900</pubDate>
      <guid>https://tanaikech.github.io/2018/12/11/retrieving-access-token-using-service-account-by-googles-oauth2-package-for-golang/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://gist.github.com/tanaikech/4b4cb27ece27573b3f4df0e050b52330&#34;&gt;Gists&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;This is a sample golang script for retrieving access token using &lt;a href=&#34;https://developers.google.com/identity/protocols/OAuth2ServiceAccount&#34;&gt;Service Account of Google&lt;/a&gt; by &lt;a href=&#34;https://github.com/golang/oauth2&#34;&gt;Google&amp;rsquo;s OAuth2 package&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;p&gt;The script without using Google&amp;rsquo;s OAuth2 package is &lt;a href=&#34;https://github.com/tanaikech/go-gettokenbyserviceaccount&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main&#xD;&#xA;&#xD;&#xA;import (&#xD;&#xA;    &amp;#34;encoding/json&amp;#34;&#xD;&#xA;    &amp;#34;fmt&amp;#34;&#xD;&#xA;    &amp;#34;io/ioutil&amp;#34;&#xD;&#xA;    &amp;#34;os&amp;#34;&#xD;&#xA;&#xD;&#xA;    &amp;#34;golang.org/x/oauth2&amp;#34;&#xD;&#xA;    &amp;#34;golang.org/x/oauth2/google&amp;#34;&#xD;&#xA;    &amp;#34;golang.org/x/oauth2/jwt&amp;#34;&#xD;&#xA;)&#xD;&#xA;&#xD;&#xA;func serviceAccount(credentialFile string) (*oauth2.Token, error) {&#xD;&#xA;    b, err := ioutil.ReadFile(credentialFile)&#xD;&#xA;    if err != nil {&#xD;&#xA;        return nil, err&#xD;&#xA;    }&#xD;&#xA;    var c = struct {&#xD;&#xA;        Email      string `json:&amp;#34;client_email&amp;#34;`&#xD;&#xA;        PrivateKey string `json:&amp;#34;private_key&amp;#34;`&#xD;&#xA;    }{}&#xD;&#xA;    json.Unmarshal(b, &amp;amp;c)&#xD;&#xA;    config := &amp;amp;jwt.Config{&#xD;&#xA;        Email:      c.Email,&#xD;&#xA;        PrivateKey: []byte(c.PrivateKey),&#xD;&#xA;        Scopes: []string{&#xD;&#xA;            &amp;#34;https://www.googleapis.com/auth/drive.metadata.readonly&amp;#34;,&#xD;&#xA;        },&#xD;&#xA;        TokenURL: google.JWTTokenURL,&#xD;&#xA;    }&#xD;&#xA;    token, err := config.TokenSource(oauth2.NoContext).Token()&#xD;&#xA;    if err != nil {&#xD;&#xA;        return nil, err&#xD;&#xA;    }&#xD;&#xA;    return token, nil&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;func main() {&#xD;&#xA;    token, err := serviceAccount(&amp;#34;credentials.json&amp;#34;) // Please set here&#xD;&#xA;    if err != nil {&#xD;&#xA;        fmt.Println(err)&#xD;&#xA;        os.Exit(1)&#xD;&#xA;    }&#xD;&#xA;    fmt.Println(res)&#xD;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
  </channel>
</rss>
