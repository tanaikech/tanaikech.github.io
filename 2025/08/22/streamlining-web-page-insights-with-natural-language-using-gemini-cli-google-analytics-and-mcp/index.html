<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <meta name="google-site-verification" content="1BvDMY90ui0jRLHkrpqdQ_x62h5VNEMuK6mQsDvVQH0" />

  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.98.0" />

  <title>Streamlining Web Page Insights with Natural Language using Gemini CLI, Google Analytics, and MCP &middot; tanaike</title>

    

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://tanaikech.github.io/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://tanaikech.github.io/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="https://tanaikech.github.io/css/blackburn.css">

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">

  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet" type="text/css">

  
  <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

 
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/androidstudio.min.css">
  <script async src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/highlight.min.js"></script>
  
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="https://tanaikech.github.io/img/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  
  <a class="pure-menu-heading brand" href="https://tanaikech.github.io/">TANAIKE</a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/topics/"><i class='fa fa-folder fa-fw'></i>Topics</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/tags/"><i class='fa fa-tags fa-fw'></i>Tags</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/contact/"><i class='fa fa-phone fa-fw'></i>Contact</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/link/"><i class='fa fa-thumbs-up fa-fw'></i>Links</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/webapps/"><i class='fas fa-toolbox'></i>Web Applications</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/donate/"><i class='fas fa-donate'></i>Donate</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/tanaikech" rel="me" target="_blank"><i class="fab fa-twitter-square fa-fw"></i>X</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/tanaikech" rel="me" target="_blank"><i class="fab fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://stackoverflow.com/users/7108653" rel="me" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>Stack Overflow</a>
    </li>
    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2017. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>Streamlining Web Page Insights with Natural Language using Gemini CLI, Google Analytics, and MCP</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>22 Aug 2025, 16:24</time>
  </div>

  

  
  
  
  <div>
    <i class="fa fa-folder fa-fw"></i>
    
      <a class="post-taxonomy-topic" href="https://tanaikech.github.io/topics/gastips">GasTips</a>
    
  </div>
  
  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="https://tanaikech.github.io/tags/google-apps-script">Google Apps Script</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://tanaikech.github.io/tags/gemini">Gemini</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://tanaikech.github.io/tags/model-context-protocol">Model Context Protocol</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://tanaikech.github.io/tags/mcp">MCP</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://tanaikech.github.io/tags/analytics">Analytics</a>
    
  </div>
  
  

</div>

  <p><a href="https://gist.github.com/tanaikech/1960fb03a38a13363f86966b4fcebbb5">Gists</a></p>
<p><img src="https://tanaikech.github.io/image-storage/20250822a/fig1.jpg" alt=""></p>
<h2 id="abstract">Abstract</h2>
<p>This report introduces a powerful method for automating Google Analytics tasks using the Gemini CLI and a custom MCP (Model Context Protocol) server built with Google Apps Script. This integration enables streamlined web page analysis through simple natural language commands, simplifying authorization and complex data retrieval workflows.</p>
<h2 id="introduction">Introduction</h2>
<p>Accessing and interpreting web analytics data often involves navigating complex interfaces and manual report generation. However, the emergence of natural language interfaces is changing this paradigm. Gemini CLI, when paired with MCP servers, allows users to orchestrate sophisticated, multi-step workflows using conversational commands. This creates a more intuitive and efficient way to interact with powerful services like Google Analytics.</p>
<p>Building on my previous reports for Google Sheets, Calendar, and Classroom, this article demonstrates how to apply this automation to Google Analytics.</p>
<ul>
<li><a href="https://medium.com/google-cloud/next-level-data-automation-gemini-cli-google-sheets-and-mcp-e6628a382e90">Next-Level Data Automation: Gemini CLI, Google Sheets, and MCP</a></li>
<li><a href="https://medium.com/google-cloud/next-level-data-automation-gemini-cli-google-calendar-and-mcp-1b9e39e75f34">Next-Level Data Automation: Gemini CLI, Google Calendar, and MCP</a></li>
<li><a href="https://medium.com/google-cloud/unifying-google-workspace-with-natural-language-integrated-collaboration-through-gemini-cli-and-a40489ddf17e">Next-Level Classroom Automation: Gemini CLI, Google Classroom, and MCP</a></li>
</ul>
<p>While Google has provided a Python-based MCP server for this purpose (<a href="https://github.com/googleanalytics/google-analytics-mcp">Ref</a>), this guide introduces an alternative built with Google Apps Script. The primary advantage of this approach is its ability to seamlessly authorize Google Analytics via Advanced Google services, significantly simplifying the initial setup. By integrating Google Analytics tools into the existing ToolsForMCPServer library (<a href="https://github.com/tanaikech/ToolsForMCPServer">Ref</a>), we unlock more versatile and powerful automations.</p>
<h2 id="practical-applications-and-sample-prompts">Practical Applications and Sample Prompts</h2>
<p>The following examples showcase how natural language prompts can be used to query the Google Analytics Data API for valuable insights. For complete setup and usage instructions, please refer to the repository: <strong><a href="https://github.com/tanaikech/ToolsForMCPServer?tab=readme-ov-file#usage">https://github.com/tanaikech/ToolsForMCPServer?tab=readme-ov-file#usage</a></strong></p>
<h3 id="1-get-google-analytics-properties">1. Get Google Analytics Properties</h3>
<p>Quickly list all associated accounts and property IDs to get an overview of your assets.</p>
<p><strong>Prompt:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Get the properties of all Google Analytics accounts. Show display names of accounts and property IDs as a table.
</span></span></code></pre></div><p><img src="https://tanaikech.github.io/image-storage/20250822a/fig2.jpg" alt=""></p>
<h3 id="2-track-daily-active-users">2. Track Daily Active Users</h3>
<p>Generate a report of daily active users over the last month to monitor engagement trends.</p>
<p><strong>Prompt:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Show the number of daily active users for the past 30 days of the property ID of &#34;properties/###&#34; using the Google Analytics Data API as a table.
</span></span></code></pre></div><p><img src="https://tanaikech.github.io/image-storage/20250822a/fig3.jpg" alt=""></p>
<h3 id="3-analyze-sessions-by-device">3. Analyze Sessions by Device</h3>
<p>Understand how users access your site by segmenting sessions by device category.</p>
<p><strong>Prompt:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Show the number of sessions of &#34;properties/###&#34; by device category (mobile, desktop, tablet) for the past 60 days as a table.
</span></span></code></pre></div><p><img src="https://tanaikech.github.io/image-storage/20250822a/fig4.jpg" alt=""></p>
<h3 id="4-identify-top-user-countries">4. Identify Top User Countries</h3>
<p>Discover your top 10 geographic audiences by analyzing user data from the past month.</p>
<p><strong>Prompt:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Show the number of users by country of the top 10 of &#34;properties/###&#34; for the last 30 days as a table.
</span></span></code></pre></div><p><img src="https://tanaikech.github.io/image-storage/20250822a/fig5.jpg" alt=""></p>
<h3 id="5-automate-data-retrieval-and-email-reporting">5. Automate Data Retrieval and Email Reporting</h3>
<p>Combine multiple steps into a single command to fetch key metrics and email them as a formatted report.</p>
<p><strong>Prompt:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Run the following mission.
</span></span><span style="display:flex;"><span>1. Retrieve the sessions, page views, and users for 1 week of &#34;properties/###&#34; using the Google Analytics Data API.
</span></span><span style="display:flex;"><span>2. Create the retrieved data as a table.
</span></span><span style="display:flex;"><span>3. Send an email by including the table to tanaike@hotmail.com.
</span></span></code></pre></div><p><img src="https://tanaikech.github.io/image-storage/20250822a/fig6.jpg" alt=""></p>
<p>The resulting email body would contain a clean, markdown-formatted table:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Here is the Google Analytics report for properties/### for the
</span></span><span style="display:flex;"><span>week of August 15, 2025, to August 21, 2025:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>| Date   	| Sessions | Page Views | Users |
</span></span><span style="display:flex;"><span>| :--------- | :------- | :--------- | :---- |
</span></span><span style="display:flex;"><span>| 2025-08-15 | 217  	| 256    	| 199   |
</span></span><span style="display:flex;"><span>| 2025-08-16 | 211  	| 241    	| 204   |
</span></span><span style="display:flex;"><span>| 2025-08-20 | 69   	| 139    	| 56	|
</span></span><span style="display:flex;"><span>| 2025-08-19 | 67   	| 133    	| 56	|
</span></span><span style="display:flex;"><span>| 2025-08-17 | 66   	| 89     	| 56	|
</span></span><span style="display:flex;"><span>| 2025-08-18 | 57   	| 104    	| 45	|
</span></span><span style="display:flex;"><span>| 2025-08-21 | 53   	| 89     	| 42	|
</span></span></code></pre></div><h3 id="6-generate-a-real-time-report-of-active-users-by-country">6. Generate a Real-Time Report of Active Users by Country</h3>
<p>Get an immediate snapshot of current site activity broken down by country.</p>
<p><strong>Prompt:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Run a real-time report for &#34;properties/###&#34; using the Google Analytics Data API. Specify &#34;country&#34; as the dimension and &#34;activeUsers&#34; as the metric, and show the current active users by country in descending order in a table with the box-drawing characters.
</span></span></code></pre></div><p><img src="https://tanaikech.github.io/image-storage/20250822a/fig7.jpg" alt=""></p>
<h3 id="7-view-a-real-time-report-of-top-active-pages">7. View a Real-Time Report of Top Active Pages</h3>
<p>Identify the most popular content on your site at this very moment.</p>
<p><strong>Prompt:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Run the following mission.
</span></span><span style="display:flex;"><span>1. Run a real-time report for &#34;properties/###&#34; using the Google Analytics Data API.
</span></span><span style="display:flex;"><span>2. Set &#34;unifiedScreenName&#34; (page title/screen name) as the dimension and &#34;activeUsers&#34; as the metric.
</span></span><span style="display:flex;"><span>3. Show the top 5 pages with the most active users in a table with the box-drawing characters.
</span></span></code></pre></div><p><img src="https://tanaikech.github.io/image-storage/20250822a/fig8.jpg" alt=""></p>
<h2 id="summary">Summary</h2>
<p>This report demonstrates a streamlined approach to interacting with Google Analytics. By leveraging natural language commands, users can simplify data retrieval and automate complex reporting tasks.</p>
<p>Here are the key takeaways:</p>
<ul>
<li><strong>Natural Language Control:</strong> Gemini CLI allows you to manage Google Analytics using simple, conversational language, removing the need to navigate complex dashboards.</li>
<li><strong>Simplified Authorization:</strong> Using Google Apps Script for the MCP server streamlines the authentication process with Google services, making setup easier.</li>
<li><strong>Multi-Step Automation:</strong> The system can execute complex, multi-step &ldquo;missions,&rdquo; such as retrieving data, formatting it into a table, and sending it in an email, all from a single prompt.</li>
<li><strong>Real-Time Insights:</strong> You can access real-time website data, like top active pages or users by country, directly from the command line.</li>
<li><strong>Extensible Framework:</strong> The solution is built upon the <code>ToolsForMCPServer</code> library, allowing for easy expansion and the addition of more custom tools in the future.</li>
</ul>

  
  <h4><i class="fas fa-share-alt" aria-hidden="true"></i>&nbsp;Share!</h4>
<ul class="share-buttons">
	<li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftanaikech.github.io%2f2025%2f08%2f22%2fstreamlining-web-page-insights-with-natural-language-using-gemini-cli-google-analytics-and-mcp%2f" target="_blank" title="Share on Facebook"><i class="fab fa-facebook" aria-hidden="true"></i><span class="sr-only">Share on Facebook</span></a>
	</li>&nbsp;&nbsp;&nbsp;
	<li><a href="https://twitter.com/intent/tweet?source=https%3a%2f%2ftanaikech.github.io%2f2025%2f08%2f22%2fstreamlining-web-page-insights-with-natural-language-using-gemini-cli-google-analytics-and-mcp%2f" target="_blank" title="Tweet"><i class="fab fa-twitter" aria-hidden="true"></i><span class="sr-only">Tweet</span></a>
	</li>&nbsp;&nbsp;&nbsp;
	<li><a href="https://plus.google.com/share?url=https%3a%2f%2ftanaikech.github.io%2f2025%2f08%2f22%2fstreamlining-web-page-insights-with-natural-language-using-gemini-cli-google-analytics-and-mcp%2f" target="_blank" title="Share on Google+"><i class="fab fa-google-plus" aria-hidden="true"></i><span class="sr-only">Share on Google+</span></a>
	</li>&nbsp;&nbsp;&nbsp;
	<li><a href="http://www.tumblr.com/share?v=3&u=https%3a%2f%2ftanaikech.github.io%2f2025%2f08%2f22%2fstreamlining-web-page-insights-with-natural-language-using-gemini-cli-google-analytics-and-mcp%2f" target="_blank" title="Post to Tumblr"><i class="fab fa-tumblr" aria-hidden="true"></i><span class="sr-only">Post to Tumblr</span></a>
	</li>&nbsp;&nbsp;&nbsp;
	<li><a href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2ftanaikech.github.io%2f2025%2f08%2f22%2fstreamlining-web-page-insights-with-natural-language-using-gemini-cli-google-analytics-and-mcp%2f" target="_blank" title="Pin it"><i class="fab fa-pinterest-p" aria-hidden="true"></i><span class="sr-only">Pin it</span></a>
	</li>&nbsp;&nbsp;&nbsp;
	<li><a href="http://www.reddit.com/submit?url=https%3a%2f%2ftanaikech.github.io%2f2025%2f08%2f22%2fstreamlining-web-page-insights-with-natural-language-using-gemini-cli-google-analytics-and-mcp%2f" target="_blank" title="Submit to Reddit"><i class="fab fa-reddit-alien" aria-hidden="true"></i><span class="sr-only">Submit to Reddit</span></a>
	</li>
</ul>


<style>
	ul.share-buttons{
	  list-style: none;
	  padding: 0;
	}

	ul.share-buttons li{
	  display: inline;
	}

	ul.share-buttons .sr-only{
	  position: absolute;
	  clip: rect(1px 1px 1px 1px);
	  clip: rect(1px, 1px, 1px, 1px);
	  padding: 0;
	  border: 0;
	  height: 1px;
	  width: 1px;
	  overflow: hidden;
	}
</style>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="https://tanaikech.github.io/2025/08/18/unifying-google-workspace-with-natural-language-integrated-collaboration-through-gemini-cli-and-mcp/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="https://tanaikech.github.io/2025/08/18/unifying-google-workspace-with-natural-language-integrated-collaboration-through-gemini-cli-and-mcp/">Unifying Google Workspace with Natural Language: Integrated Collaboration through Gemini CLI and MCP</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="https://tanaikech.github.io/2025/08/22/updated-gas-library-toolsformcpserver/">Updated: GAS Library - ToolsForMCPServer</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="https://tanaikech.github.io/2025/08/22/updated-gas-library-toolsformcpserver/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>


  
  
  
  

  

</div>

</div>
</div>
<script src="https://tanaikech.github.io/js/ui.js"></script>
<script src="https://tanaikech.github.io/js/menus.js"></script>






<script async src="https://www.googletagmanager.com/gtag/js?id=G-J3Z6T50WL5"></script>
<script>
  
  if (window.location.hostname != "localhost") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-J3Z6T50WL5');
  }
</script>








</body>
</html>

