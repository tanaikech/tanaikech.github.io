<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <meta name="google-site-verification" content="1BvDMY90ui0jRLHkrpqdQ_x62h5VNEMuK6mQsDvVQH0" />

  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.98.0" />

  <title>Secure and Conversational Google Workspace Automation: Integrating Gemini CLI with a gas-fakes MCP Server &middot; tanaike</title>

    

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://tanaikech.github.io/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://tanaikech.github.io/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="https://tanaikech.github.io/css/blackburn.css">

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">

  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet" type="text/css">

  
  <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

 
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/androidstudio.min.css">
  <script async src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/highlight.min.js"></script>
  
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="https://tanaikech.github.io/img/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  
  <a class="pure-menu-heading brand" href="https://tanaikech.github.io/">TANAIKE</a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/topics/"><i class='fa fa-folder fa-fw'></i>Topics</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/tags/"><i class='fa fa-tags fa-fw'></i>Tags</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/contact/"><i class='fa fa-phone fa-fw'></i>Contact</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/link/"><i class='fa fa-thumbs-up fa-fw'></i>Links</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/webapps/"><i class='fas fa-toolbox'></i>Web Applications</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/donate/"><i class='fas fa-donate'></i>Donate</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tanaikech.github.io/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/tanaikech" rel="me" target="_blank"><i class="fab fa-twitter-square fa-fw"></i>X</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/tanaikech" rel="me" target="_blank"><i class="fab fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://stackoverflow.com/users/7108653" rel="me" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>Stack Overflow</a>
    </li>
    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2017. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>Secure and Conversational Google Workspace Automation: Integrating Gemini CLI with a gas-fakes MCP Server</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>30 Sep 2025, 16:15</time>
  </div>

  

  
  
  
  <div>
    <i class="fa fa-folder fa-fw"></i>
    
      <a class="post-taxonomy-topic" href="https://tanaikech.github.io/topics/gastips">GasTips</a>&nbsp;&#47;
    
      <a class="post-taxonomy-topic" href="https://tanaikech.github.io/topics/nodetips">NodeTips</a>
    
  </div>
  
  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="https://tanaikech.github.io/tags/google-apps-script">Google Apps Script</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://tanaikech.github.io/tags/model-context-protocol">Model Context Protocol</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://tanaikech.github.io/tags/mcp">MCP</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://tanaikech.github.io/tags/gemini">Gemini</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://tanaikech.github.io/tags/node.js">Node.js</a>
    
  </div>
  
  

</div>

  <p><a href="https://gist.github.com/tanaikech/e995c03ff066f38a208fa473ac47132b">Gists</a></p>
<p><img src="https://tanaikech.github.io/image-storage/20250930a/fig1.jpg" alt=""></p>
<h1 id="abstract">Abstract</h1>
<p>This article introduces a method for securely executing AI-generated Google Apps Script. By implementing a &ldquo;fake-sandbox&rdquo; using the gas-fakes library as an MCP server, users can empower the Gemini CLI to safely automate Google Workspace tasks with granular, file-specific permissions, avoiding significant security risks.</p>
<h1 id="introduction">Introduction</h1>
<p>&ldquo;Have you ever faced a task that isn&rsquo;t part of your routine but is tedious to do manually, like, &lsquo;I need to add a &ldquo;[For Review]&rdquo; prefix to the titles of all Google Docs in a specific folder this afternoon&rsquo;? Or perhaps you&rsquo;ve thought, &lsquo;I want to use AI to work with my spreadsheets, but I&rsquo;m concerned about the security implications of granting a tool full access to my Google Drive&rsquo;?</p>
<p>Recently, I published an article, <a href="https://medium.com/google-cloud/a-fake-sandbox-for-google-apps-script-a-feasibility-study-on-securely-executing-code-generated-by-cc985ce5dae3">&ldquo;A Fake-Sandbox for Google Apps Script: A Feasibility-Study on Securely Executing Code Generated by Gemini CLI&rdquo;</a>. This article introduced the possibility of a &ldquo;fake-sandbox&rdquo; for Google Apps Script using <a href="https://github.com/brucemcpherson/gas-fakes">the <code>gas-fakes</code> library</a>. This approach directly addresses the significant security risks associated with executing AI-generated Google Apps Script. The core issue is that Apps Script&rsquo;s standard services often require sweeping permissions, such as the <code>https://www.googleapis.com/auth/drive</code> scope, which grants broad access to all of a user&rsquo;s files. This presents a clear danger when running code from a source that isn&rsquo;t fully trusted. The <code>gas-fakes</code> library mitigates this by emulating the Google Apps Script environment locally in Node.js and translating familiar Apps Script calls into their direct, underlying Google API requests. This abstraction allows for the use of more granular, file-specific permissions, providing a much higher level of security. After this article was published, the sandbox of <code>gas-fakes</code> was updated, further enhancing the secure execution of code generated by generative AI.</p>
<p>Now, this fake-sandbox becomes even more powerful when used as a Model Context Protocol (MCP) server. An MCP server acts as a bridge, allowing the Gemini CLI and other AI agents to interact with external tools and data sources. By exposing the <code>gas-fakes</code> sandbox as an MCP server, the Gemini CLI gains the ability to safely discover and execute Google Workspace automation tasks. This article introduces the steps for using the <code>gas-fakes</code> fake-sandbox with the Gemini CLI as an MCP server, unlocking significant potential for secure, AI-driven automation in your local environment. This integration allows developers to extend the Gemini CLI&rsquo;s capabilities to perform actions like interacting with databases, APIs, and custom scripts without granting overly broad permissions.</p>
<p><strong>&ldquo;A Bridge Between Fixed Tools and Ad-Hoc Tasks</strong></p>
<p>While many excellent add-ons and fixed tools exist for Google Workspace, they are limited to their pre-defined functions. The approach described here is different: it&rsquo;s like <strong>creating a &lsquo;disposable, high-end tool&rsquo; in real-time through conversation.</strong></p>
<p>It&rsquo;s designed for user-specific, spontaneous requests that cannot be handled by the fixed tools of an MCP server. This method doesn&rsquo;t replace those tools; it complements them, providing a secure and flexible way to handle the unpredictable nature of daily work.&rdquo;</p>
<p>You can see this workflow as follows.</p>
<p><img src="https://tanaikech.github.io/image-storage/20250930a/workflow.png" alt=""></p>
<p><a href="https://mermaidchart.com/play?utm_source=mermaid_live_editor&amp;utm_medium=share#pako:eNqNVFFr2zAQ_iuHHsYGSXCWOmn0UAhpVwobK2RjMPyi2ZdUxJa0k1zShfz3npqsCbbTTRgsnb777r7TSVuR2wKFFB5_12hyvNZqRarKDPBwioLOtVMmwHeP1LbeYqWNhvnnu_bel_k9LJAeu_xWyveXao0eFsoUv-ymg9raVYnww9LaO5UjzO7v_L9hmdljYr79q6tjghJuTEDyoMCRrVzY444ARh9Tlvw3hQeKdfEHrMqDflQBW9KOayZpaZMcxCBFx3dws8G85tkh75lzjMtJuwDvb2eLD41IZwrVMkepXQWT8I2U8WXkYnoIFpRj_Y50NDEEclWWvhH2jeJ3bnWEl3CPtLRUgXVRvLYG-FPeY-hm6p8X8fWVgtDXZXgrle4jiErZ11njce9d4P_IbVe60Sf7A22mdkJ-5ghPeqbRp5-0UeU5tmbrnfQv08Sul3CtvSvVkz9wiJ5YkS6EDFRjT1RIlYpLsY0UmQgPWGEmJE8LRetMZGbHPny9flpb_XUjW68ehFyq0vOqdgVnc3gtXiF8ZZDmtjZByPSFQcit2Ag5TMaDdJJcpsM0-TgaDcfjnnhi82Q8mPJIRhcX03GSJtNdT_x5CZoMLidpcjKGu2c2so4h">Mermaid Chart Playground</a></p>
<h1 id="prerequisites">Prerequisites</h1>
<p>Before you begin, ensure you have the following installed on your system:</p>
<ul>
<li><strong>Node.js and npm:</strong> Required to install and run the <code>gas-fakes</code> library and the MCP server script.</li>
<li><strong>Gemini CLI:</strong> The AI agent that will be used to generate and execute the Google Apps Script.</li>
</ul>
<h1 id="setup-and-configuration">Setup and Configuration</h1>
<p>Follow these steps to set up the environment.</p>
<h2 id="step-1-install-gas-fakes">Step 1: Install gas-fakes</h2>
<p>Install <code>gas-fakes</code> in your working directory (Here, the &ldquo;sample&rdquo; directory is created.). You can find detailed instructions at the official <a href="https://github.com/brucemcpherson/gas-fakes">gas-fakes GitHub repository</a>. A crucial step is to correctly authorize the necessary scopes for <code>gas-fakes</code> to interact with Google services on your behalf.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install @mcpher/gas-fakes
</span></span></code></pre></div><h2 id="step-2-install-mcp-server-for-gas-fakes">Step 2: Install MCP Server for gas-fakes</h2>
<p>Next, install the required modules for the MCP server in the same directory.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install @modelcontextprotocol/sdk zod
</span></span></code></pre></div><p>Then, create a file named <code>gas-fakes-mcp.js</code> in the root of your project directory and paste the following script into it. This script defines the <code>run_gas_with_gas-fakes</code> tool that the Gemini CLI will use.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">McpServer</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;@modelcontextprotocol/sdk/server/mcp.js&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">StdioServerTransport</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;@modelcontextprotocol/sdk/server/stdio.js&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">exec</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;child_process&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">fs</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;fs/promises&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">setTimeout</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;node:timers/promises&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">promisify</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;util&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">z</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;zod&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">server</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">McpServer</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;MCP server for gas-fakes&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">version</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0.0.1&#34;</span>,
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">execAsync</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">promisify</span>(<span style="color:#a6e22e">exec</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">tool</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;run_gas_with_gas-fakes&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">schema</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">description</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;Use this to safely execute a script of Google Apps Script in a sandbox using gas-fakes.&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">inputSchema</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">gas_script</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">z</span>
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">string</span>()
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">describe</span>(
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">`Provide a Google Apps Script. The Google Apps Script is the generated script or the script provided by a prompt. When you put the script in a function like \`function sample() { script }\`, it is required to add \`sample();\` to run the function. When you directly put the script, the script can be run. In the current stage, gas-fakes cannot use \`Logger.log\`. So, please use \`console.log\` instead of it. If an error occurs, modify the script by referring to StackOverflow again.`</span>
</span></span><span style="display:flex;"><span>        ),
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">whitelistItems</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">z</span>
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">array</span>(<span style="color:#a6e22e">z</span>.<span style="color:#a6e22e">string</span>().<span style="color:#a6e22e">describe</span>(<span style="color:#e6db74">`File ID of file on Google Drive`</span>))
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">describe</span>(
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">`Use this to access the existing files on Google Drive. Provide the file IDs of the files on Google Drive as an array. When this is used, the property &#34;sandbox&#34; is required to be true. The default is no items in an array.`</span>
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">optional</span>(),
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">sandbox</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">z</span>
</span></span><span style="display:flex;"><span>        .<span style="color:#66d9ef">boolean</span>()
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">describe</span>(
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">`The default is true. When this is true, the script is run with the sandbox. When this is false, the script is run without the sandbox.`</span>
</span></span><span style="display:flex;"><span>        ),
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">func</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">object</span> <span style="color:#f92672">=</span> {}) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">sandbox</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>, <span style="color:#a6e22e">whitelistItems</span> <span style="color:#f92672">=</span> [], <span style="color:#a6e22e">gas_script</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">object</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">importFile</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;./sample_gas.mjs&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getImportScript</span>() {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">importScriptAr</span> <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">`import &#34;./node_modules/@mcpher/gas-fakes/main.js&#34;`</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>      ];
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">whitelistItems</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">importScriptAr</span>.<span style="color:#a6e22e">push</span>(
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">sandbox</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">`ScriptApp.__behavior.sandBoxMode = true;`</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">`\n\n</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">gas_script</span><span style="color:#e6db74">}</span><span style="color:#e6db74">\n\n`</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">sandbox</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">`ScriptApp.__behavior.trash();`</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>      } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">wl</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">whitelistItems</span>
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">id</span>) =&gt; <span style="color:#e6db74">`behavior.newIdWhitelistItem(&#34;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;).setWrite(true)`</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#34;,&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">importScriptAr</span>.<span style="color:#a6e22e">push</span>(
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">`const behavior = ScriptApp.__behavior;`</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">`behavior.sandboxMode = true;`</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">`behavior.strictSandbox = true;`</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">`behavior.setIdWhitelist([</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">wl</span><span style="color:#e6db74">}</span><span style="color:#e6db74">]);`</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">`\n\n</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">gas_script</span><span style="color:#e6db74">}</span><span style="color:#e6db74">\n\n`</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">`ScriptApp.__behavior.trash();`</span>
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">importScriptAr</span>.<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#34;\n&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">importScript</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getImportScript</span>();
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fs</span>.<span style="color:#a6e22e">writeFile</span>(<span style="color:#a6e22e">importFile</span>, <span style="color:#a6e22e">importScript</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">setTimeout</span>(<span style="color:#ae81ff">500</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">stdout</span> } <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">execAsync</span>(<span style="color:#e6db74">`node ./</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">importFile</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> [{ <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;text&#34;</span>, <span style="color:#a6e22e">text</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">stdout</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#34;Done.&#34;</span> }],
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">isError</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>      };
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">err</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> [{ <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;text&#34;</span>, <span style="color:#a6e22e">text</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">message</span> }],
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">isError</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>      };
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">finally</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fs</span>.<span style="color:#a6e22e">unlink</span>(<span style="color:#a6e22e">importFile</span>);
</span></span><span style="display:flex;"><span>      } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">err</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">message</span>);
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">schema</span>, <span style="color:#a6e22e">func</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">tool</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">server</span>.<span style="color:#a6e22e">registerTool</span>(<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">schema</span>, <span style="color:#a6e22e">func</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">transport</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">StdioServerTransport</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">await</span> <span style="color:#a6e22e">server</span>.<span style="color:#a6e22e">connect</span>(<span style="color:#a6e22e">transport</span>);
</span></span></code></pre></div><h2 id="step-3-install-gemini-cli">Step 3: Install Gemini CLI</h2>
<p>If you haven&rsquo;t already, install the Gemini CLI. Instructions can be found at the <a href="https://github.com/google-gemini/gemini-cli">official Gemini CLI GitHub repository</a>.</p>
<h2 id="step-4-configure-gemini-cli">Step 4: Configure Gemini CLI</h2>
<p>To connect the Gemini CLI to your newly created MCP server, you need to modify its settings file. Locate the <code>settings.json</code> file in your <code>.gemini</code> directory and add the <code>mcpServers</code> configuration.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;security&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;auth&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;selectedType&#34;</span>: <span style="color:#e6db74">&#34;### your setting ###&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ui&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;theme&#34;</span>: <span style="color:#e6db74">&#34;Default&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;mcpServers&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;gas-fakes&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;command&#34;</span>: <span style="color:#e6db74">&#34;node&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;args&#34;</span>: [<span style="color:#e6db74">&#34;./gas-fakes-mcp.js&#34;</span>]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="step-5-verify-your-directory-structure">Step 5: Verify Your Directory Structure</h2>
<p>After completing the setup, your project directory (e.g., named <code>sample</code>) should have the following structure:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>/sample/
</span></span><span style="display:flex;"><span>├── .env
</span></span><span style="display:flex;"><span>├── gas-fakes-mcp.js
</span></span><span style="display:flex;"><span>├── gasfakes.json
</span></span><span style="display:flex;"><span>├── package-lock.json
</span></span><span style="display:flex;"><span>├── package.json
</span></span><span style="display:flex;"><span>├── .gemini/
</span></span><span style="display:flex;"><span>│   ├── settings.json
</span></span><span style="display:flex;"><span>└── node_modules/
</span></span></code></pre></div><h1 id="demonstration">Demonstration</h1>
<p>With everything configured, you can now launch the Gemini CLI.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gemini
</span></span></code></pre></div><p>Here are a few sample prompts to demonstrate the capabilities of this setup.</p>
<h2 id="sample-1-creating-and-running-a-script-in-the-sandbox">Sample 1: Creating and Running a Script in the Sandbox</h2>
<p>This prompt asks Gemini to create a Google Apps Script to perform several actions on a new Google Sheet and then execute it.</p>
<p><strong>Prompt:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Follow the following mission in order.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>## 1. Create a Google Apps Script
</span></span><span style="display:flex;"><span>Create a Google Apps Script for achieving the following steps. Here, the script is not required to be run. Just show the created script.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1. Create a new Google Spreadsheet as &#34;temp spreadsheet&#34;.
</span></span><span style="display:flex;"><span>2. Insert a new sheet as &#34;temp&#34; to the created Spreadsheet.
</span></span><span style="display:flex;"><span>3. Put a value of `[[&#34;header1&#34;, &#34;header2&#34;, &#34;header3&#34;], [&#34;a2&#34;, &#34;b2&#34;,&#34;c2&#34;]]` into the &#34;temp&#34; sheet.
</span></span><span style="display:flex;"><span>4. Get the values of row 2 of the &#34;temp&#34; sheet.
</span></span><span style="display:flex;"><span>5. Show the values.
</span></span><span style="display:flex;"><span>6. Show the created script.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>## 2. Run script.
</span></span><span style="display:flex;"><span>Run the created script.
</span></span></code></pre></div><p><strong>Result:</strong>
<img src="https://tanaikech.github.io/image-storage/20250930a/fig2.jpg" alt=""></p>
<p>As shown in the result, Gemini correctly generates the script and then uses the <code>run_gas_with_gas-fakes</code> tool to execute it within the secure fake-sandbox. The script runs without needing broad access to your Google Drive.</p>
<h2 id="sample-2-interacting-with-existing-files-securely">Sample 2: Interacting with Existing Files Securely</h2>
<p>This example demonstrates how to securely interact with an existing file by adding its ID to a whitelist, ensuring the script can only access that specific file.</p>
<p>The &ldquo;Sheet1&rdquo; sheet of a spreadsheet on Google Drive is as follows.</p>
<p><img src="https://tanaikech.github.io/image-storage/20250930a/fig3a.jpg" alt=""></p>
<p><strong>Prompt:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Follow the following mission in order.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>## 1. Create a Google Apps Script (A)
</span></span><span style="display:flex;"><span>Create a Google Apps Script for achieving the following steps. Here, the script is not required to be run. Just show the created script.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1. Search a Google Spreadsheet in my Google Drive. The name of the Google Spreadsheet is &#34;sample for gas-fakes&#34;.
</span></span><span style="display:flex;"><span>2. Get Spreadsheet ID.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>## 2. Run script.
</span></span><span style="display:flex;"><span>Run the script (A) with a sandbox.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>## 3. Create a Google Apps Script (B)
</span></span><span style="display:flex;"><span>Create a Google Apps Script for achieving the following steps. Here, the script is not required to be run. Just show the created script.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1. Retrieve values from the &#34;Sheet1&#34; sheet in the Google Spreadsheet using the retrieved Spreadsheet ID.
</span></span><span style="display:flex;"><span>2. Show the retrieved values.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>## 4. Run script.
</span></span><span style="display:flex;"><span>Run the script (B) with a sandbox including the retrieved Spreadsheet ID in the whitelist.
</span></span></code></pre></div><p><strong>Result:</strong>
<img src="https://tanaikech.github.io/image-storage/20250930a/fig3b.jpg" alt=""></p>
<p>This two-step process first identifies the specific file ID and then runs a second script that is only granted permission to access that ID. This showcases the granular control offered by the sandbox, allowing you to use Drive data as a resource and save generated content back to your Drive safely.</p>
<p>Alternatively, you can disable the sandbox for specific tasks if you trust the operation.</p>
<p><strong>Prompt:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Follow the following mission in order.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>## 1. Create a Google Apps Script
</span></span><span style="display:flex;"><span>Create a Google Apps Script for achieving the following steps. Here, the script is not required to be run. Just show the created script.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1. Search a Google Spreadsheet in my Google Drive. The name of the Google Spreadsheet is &#34;sample for gas-fakes&#34;.
</span></span><span style="display:flex;"><span>2. Get the Spreadsheet ID from the searched Spreadsheet.
</span></span><span style="display:flex;"><span>3. Retrieve values from the &#34;Sheet1&#34; sheet in the Google Spreadsheet using the Spreadsheet ID.
</span></span><span style="display:flex;"><span>4. Show the retrieved values.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>## 2. Run script.
</span></span><span style="display:flex;"><span>Run the created script without a sandbox.
</span></span></code></pre></div><p><strong>Result:</strong>
<img src="https://tanaikech.github.io/image-storage/20250930a/fig3c.jpg" alt=""></p>
<p>The tool allows for toggling the sandbox, providing flexibility for different security needs.</p>
<h2 id="sample-3-handling-limitations">Sample 3: Handling Limitations</h2>
<p>The <code>gas-fakes</code> library is continuously evolving. This example shows how Gemini handles a feature that is not yet implemented.</p>
<p><strong>Prompt:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Follow the following mission in order.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>## 1. Create a Google Apps Script
</span></span><span style="display:flex;"><span>Create a Google Apps Script for achieving the following steps. Here, the script is not required to be run. Just show the created script.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1. Create a new Google Spreadsheet as &#34;temp spreadsheet&#34;.
</span></span><span style="display:flex;"><span>2. Put a value of `[[&#34;header1&#34;, &#34;header2&#34;], [1, 2], [2, 3], [3, 4]]` into the 1st sheet.
</span></span><span style="display:flex;"><span>3. Insert a chart using the values.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>## 2. Run script.
</span></span><span style="display:flex;"><span>Run the created script.
</span></span></code></pre></div><p><strong>Result:</strong>
<img src="https://tanaikech.github.io/image-storage/20250930a/fig4.jpg" alt=""></p>
<p>Currently, <code>gas-fakes</code> does not support chart manipulation. The test shows that when the initial script fails due to an unimplemented method, Gemini intelligently interprets the error message and modifies the script to avoid the problematic function call.</p>
<h1 id="summary">Summary</h1>
<p>Integrating a <code>gas-fakes</code> MCP server with the Gemini CLI transforms Google Apps Script from a low-code platform into a conversational and secure automation powerhouse. This approach addresses critical security concerns while unlocking new possibilities for productivity.</p>
<ul>
<li><strong>Enhanced Security:</strong> By default, AI-generated scripts run in a secure sandbox, preventing them from accessing your Google Drive files without explicit, granular permission.</li>
<li><strong>Conversational Automation:</strong> Users can generate and execute complex Google Workspace automations using simple, natural language prompts, making scripting accessible to a broader audience.</li>
<li><strong>Granular Permissions:</strong> The sandbox allows for whitelisting specific file IDs, ensuring that scripts only have access to the files they absolutely need for a given task.</li>
<li><strong>Flexible Execution:</strong> The ability to toggle the sandbox on or off provides the flexibility to run trusted scripts with broader permissions when necessary.</li>
<li><strong>Intelligent Adaptation:</strong> The integration demonstrates that the AI agent can interpret errors from the sandbox environment and modify scripts to work around current limitations.</li>
</ul>

  
  <h4><i class="fas fa-share-alt" aria-hidden="true"></i>&nbsp;Share!</h4>
<ul class="share-buttons">
	<li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftanaikech.github.io%2f2025%2f09%2f30%2fsecure-and-conversational-google-workspace-automation-integrating-gemini-cli-with-a-gas-fakes-mcp-server%2f" target="_blank" title="Share on Facebook"><i class="fab fa-facebook" aria-hidden="true"></i><span class="sr-only">Share on Facebook</span></a>
	</li>&nbsp;&nbsp;&nbsp;
	<li><a href="https://twitter.com/intent/tweet?source=https%3a%2f%2ftanaikech.github.io%2f2025%2f09%2f30%2fsecure-and-conversational-google-workspace-automation-integrating-gemini-cli-with-a-gas-fakes-mcp-server%2f" target="_blank" title="Tweet"><i class="fab fa-twitter" aria-hidden="true"></i><span class="sr-only">Tweet</span></a>
	</li>&nbsp;&nbsp;&nbsp;
	<li><a href="https://plus.google.com/share?url=https%3a%2f%2ftanaikech.github.io%2f2025%2f09%2f30%2fsecure-and-conversational-google-workspace-automation-integrating-gemini-cli-with-a-gas-fakes-mcp-server%2f" target="_blank" title="Share on Google+"><i class="fab fa-google-plus" aria-hidden="true"></i><span class="sr-only">Share on Google+</span></a>
	</li>&nbsp;&nbsp;&nbsp;
	<li><a href="http://www.tumblr.com/share?v=3&u=https%3a%2f%2ftanaikech.github.io%2f2025%2f09%2f30%2fsecure-and-conversational-google-workspace-automation-integrating-gemini-cli-with-a-gas-fakes-mcp-server%2f" target="_blank" title="Post to Tumblr"><i class="fab fa-tumblr" aria-hidden="true"></i><span class="sr-only">Post to Tumblr</span></a>
	</li>&nbsp;&nbsp;&nbsp;
	<li><a href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2ftanaikech.github.io%2f2025%2f09%2f30%2fsecure-and-conversational-google-workspace-automation-integrating-gemini-cli-with-a-gas-fakes-mcp-server%2f" target="_blank" title="Pin it"><i class="fab fa-pinterest-p" aria-hidden="true"></i><span class="sr-only">Pin it</span></a>
	</li>&nbsp;&nbsp;&nbsp;
	<li><a href="http://www.reddit.com/submit?url=https%3a%2f%2ftanaikech.github.io%2f2025%2f09%2f30%2fsecure-and-conversational-google-workspace-automation-integrating-gemini-cli-with-a-gas-fakes-mcp-server%2f" target="_blank" title="Submit to Reddit"><i class="fab fa-reddit-alien" aria-hidden="true"></i><span class="sr-only">Submit to Reddit</span></a>
	</li>
</ul>


<style>
	ul.share-buttons{
	  list-style: none;
	  padding: 0;
	}

	ul.share-buttons li{
	  display: inline;
	}

	ul.share-buttons .sr-only{
	  position: absolute;
	  clip: rect(1px 1px 1px 1px);
	  clip: rect(1px, 1px, 1px, 1px);
	  padding: 0;
	  border: 0;
	  height: 1px;
	  width: 1px;
	  overflow: hidden;
	}
</style>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="https://tanaikech.github.io/2025/09/24/streamlining-content-creation-a-guide-to-using-gemini-cli-mcp-server-and-vscode/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="https://tanaikech.github.io/2025/09/24/streamlining-content-creation-a-guide-to-using-gemini-cli-mcp-server-and-vscode/">Streamlining Content Creation: A Guide to Using Gemini CLI, MCP Server, and VSCode</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
  </div>
</div>


  
  
  
  

  

</div>

</div>
</div>
<script src="https://tanaikech.github.io/js/ui.js"></script>
<script src="https://tanaikech.github.io/js/menus.js"></script>






<script async src="https://www.googletagmanager.com/gtag/js?id=G-J3Z6T50WL5"></script>
<script>
  
  if (window.location.hostname != "localhost") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-J3Z6T50WL5');
  }
</script>






<script src="https://tanaikech.github.io/js/math-code.js"></script>
  <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
  


</body>
</html>

