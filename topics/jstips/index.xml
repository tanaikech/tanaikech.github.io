<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Jstips on tanaike</title>
    <link>https://tanaikech.github.io/topics/jstips/</link>
    <description>Recent content in Jstips on tanaike</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <copyright>&amp;copy; 2016. All rights reserved.</copyright>
    <lastBuildDate>Sun, 09 Apr 2017 14:24:58 +0900</lastBuildDate>
    <atom:link href="https://tanaikech.github.io/topics/jstips/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Removes Duplicate JSON Elements for a Value of a Certain Key</title>
      <link>https://tanaikech.github.io/2017/04/09/removes-duplicate-json-elements-for-a-value-of-a-certain-key</link>
      <pubDate>Sun, 09 Apr 2017 14:24:58 +0900</pubDate>
      
      <guid>https://tanaikech.github.io/2017/04/09/removes-duplicate-json-elements-for-a-value-of-a-certain-key</guid>
      <description>&lt;p&gt;This sample removes duplicate JSON elements for a value of a certain key. When the value of the certain key is removed, only a first duplicate element is left. Also I had wanted to be used for Google Apps Script. So it became like this.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Script :&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function removeDup(arr, key){
    var temp = [];
    var out = [];
    arr.forEach( function (e, i) {
        temp[i] = (temp.indexOf(e[key]) === -1) ? e[key] : false;
        if (temp[i]) out.push(e);
    });
    return out;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;JSON :&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var arr = [
    {a: &amp;quot;a1&amp;quot;, b: &amp;quot;b1&amp;quot;, c: &amp;quot;c1&amp;quot;},
    {a: &amp;quot;a2&amp;quot;, b: &amp;quot;b1&amp;quot;, c: &amp;quot;c1&amp;quot;},
    {a: &amp;quot;a3&amp;quot;, b: &amp;quot;b2&amp;quot;, c: &amp;quot;c1&amp;quot;},
    {a: &amp;quot;a4&amp;quot;, b: &amp;quot;b2&amp;quot;, c: &amp;quot;c2&amp;quot;},
    {a: &amp;quot;a5&amp;quot;, b: &amp;quot;b3&amp;quot;, c: &amp;quot;c2&amp;quot;}
]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Pattern 1:&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var key = &amp;quot;b&amp;quot;;
var out = removeDup(arr, &amp;quot;key&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;[
    { a: &#39;a1&#39;, b: &#39;b1&#39;, c: &#39;c1&#39; },
    { a: &#39;a3&#39;, b: &#39;b2&#39;, c: &#39;c1&#39; },
    { a: &#39;a5&#39;, b: &#39;b3&#39;, c: &#39;c2&#39; }
]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Pattern 2:&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var key = &amp;quot;c&amp;quot;;
var out = removeDup(arr, &amp;quot;key&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;[
    { a: &#39;a1&#39;, b: &#39;b1&#39;, c: &#39;c1&#39; },
    { a: &#39;a4&#39;, b: &#39;b2&#39;, c: &#39;c2&#39; }
]
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Transposing Array From (n x m) To (m x n)</title>
      <link>https://tanaikech.github.io/2017/03/21/transposing-array-from-n-x-m-to-m-x-n</link>
      <pubDate>Tue, 21 Mar 2017 08:55:34 +0900</pubDate>
      
      <guid>https://tanaikech.github.io/2017/03/21/transposing-array-from-n-x-m-to-m-x-n</guid>
      <description>&lt;p&gt;This script transposes from an array with n rows x m columns to the array with m rows x n columns. In this script, you can use array of &lt;code&gt;n != m&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;array = [
    [a1, b1, c1, d1, e1],
    [a2, b2, c2, d2, e2],
    [a3, b3, c3, d3, e3],
    [a4, b4, c4, d4, e4],
    [a5, b5, c5, d5, e5],
    [a6, b6, c6, d6, e6],
    [a7, b7, c7, d7, e7],
    [a8, b8, c8, d8, e8],
    [a9, b9, c9, d9, e9],
    [a10, b10, c10, d10, e10]
]
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var result = [];
for (i in array[0]){
    result.push(array.map(function(e,j){return e[i]}));
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;result = [
    [a1, a2, a3, a4, a5, a6, a7, a8, a9, a10],
    [b1, b2, b3, b4, b5, b6, b7, b8, b9, b10],
    [c1, c2, c3, c4, c5, c6, c7, c8, c9, c10],
    [d1, d2, d3, d4, d5, d6, d7, d8, d9, d10],
    [e1, e2, e3, e4, e5, e6, e7, e8, e9, e10]
]
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Sample Array Script for Spreadsheet</title>
      <link>https://tanaikech.github.io/2017/02/08/sample-array-script-for-spreadsheet</link>
      <pubDate>Wed, 08 Feb 2017 08:50:38 +0900</pubDate>
      
      <guid>https://tanaikech.github.io/2017/02/08/sample-array-script-for-spreadsheet</guid>
      <description>&lt;p&gt;This is a Sample Array Script for Spreadsheet. It makes an 2D array filled by strings and number. The strings and number are column strings and row number, respectively.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;However, because this is a sample, the maximum column number is 26.&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function sa(row, col){
  if (col &amp;gt; 26) return;

  var ar = new Array(row);
  for(var i = 0; i &amp;lt; row; i++) ar[i] = new Array(col);
  for (var i = 0; i &amp;lt; row; i++){
    for (var j = 0; j &amp;lt; col; j++){
      ar[i][j] = String.fromCharCode(i + 97) + String(j + 1);
    }
  }
  return ar.map(function(x, i){return x.map(function(y, j){return ar[j][i]})});
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;When &amp;ldquo;sa(10,10)&amp;rdquo; is given, following array can be output.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[
    [a1, b1, c1, d1, e1, f1, g1, h1, i1, j1],
    [a2, b2, c2, d2, e2, f2, g2, h2, i2, j2],
    [a3, b3, c3, d3, e3, f3, g3, h3, i3, j3],
    [a4, b4, c4, d4, e4, f4, g4, h4, i4, j4],
    [a5, b5, c5, d5, e5, f5, g5, h5, i5, j5],
    [a6, b6, c6, d6, e6, f6, g6, h6, i6, j6],
    [a7, b7, c7, d7, e7, f7, g7, h7, i7, j7],
    [a8, b8, c8, d8, e8, f8, g8, h8, i8, j8],
    [a9, b9, c9, d9, e9, f9, g9, h9, i9, j9],
    [a10, b10, c10, d10, e10, f10, g10, h10, i10, j10]
]
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>